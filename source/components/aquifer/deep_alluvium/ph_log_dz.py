# file: sum.W31-0.2.pH.th.v6.merged_var_mass_cb2.log_dz.psuade.th00675.tab
# dir: /erdfilespace/userspace/mansoor1/work/co2/kimberlina/nuftresults/prod07/thresholds/pyearth
# variables: 
# x[0]   time
# x[1]   brnFlux
# x[2]   log_brnMass
# x[3]   co2Flux
# x[4]   log_co2Mass
# x[5]   logK_sand1
# x[6]   logK_sand2
# x[7]   logK_sand3
# x[8]   logK_caprock
# x[9]   corrlationLengthX
# x[10]  corrlationLengthZ
# x[11]  sandFraction
# x[12]  groundwater_gradient
# x[13]  leak_depth
# output: log_dz
# MSE: 0.0213, GCV: 0.0215, RSQ: 0.6836, GRSQ: 0.6819

def model(example_iterator):
    accessors = [lambda x: 2.7807945206655713,
		lambda x: 0.28200151397960366 * max(0, x[4] - 6.596919501),
		lambda x: 26.171159743569035 * max(0, 6.596919501 - x[4]),
		lambda x: 3.8006511546726165e-07 * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: -2.1805803481929593 * max(0, x[3] - 0.00975476653),
		lambda x: -1.4508100997354974e-07 * max(0, x[4] - 7.56345852237) * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: 3.182542503631669e-07 * max(0, 7.56345852237 - x[4]) * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: 0.000944968294964527 * x[13] * max(0, 6.596919501 - x[4]),
		lambda x: -0.22480207529109378 * max(0, x[4] - 7.23732295561) * max(0, x[4] - 6.596919501),
		lambda x: 0.9065022852269918 * max(0, 7.23732295561 - x[4]) * max(0, x[4] - 6.596919501),
		lambda x: 0.15128020080680213 * x[7],
		lambda x: -0.0005758257449810025 * max(0, 7.25254834249 - x[4]) * x[13] * max(0, x[4] - 6.596919501),
		lambda x: -17.751218596629972 * x[12] * x[7],
		lambda x: 4.466859549121874 * x[5] * max(0, 6.596919501 - x[4]),
		lambda x: 0.1848671137860276 * x[5] * x[5] * max(0, 6.596919501 - x[4]),
		lambda x: 6.849873499525927e-07 * x[13] * x[13] * max(0, 6.596919501 - x[4]),
		lambda x: 0.006338286042257101 * x[10] * max(0, x[3] - 0.00975476653),
		lambda x: -1.7163611092385622e-06 * x[9] * x[10] * max(0, x[3] - 0.00975476653),
		lambda x: -6.811737676859497e-06 * max(0, x[3] - 0.0582089634) * x[9] * x[10] * max(0, x[3] - 0.00975476653),
		lambda x: -0.000615731069170903 * max(0, 0.0582089634 - x[3]) * x[9] * x[10] * max(0, x[3] - 0.00975476653),
		lambda x: 2.4890910359811786 * x[11] * max(0, x[3] - 0.00975476653),
		lambda x: 4.650638679715158e-08 * x[5] * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: -2.9940870467370928e-05 * x[5] * max(0, x[4] - 7.25254834249) * x[13] * max(0, x[4] - 6.596919501),
		lambda x: 9.049966109841989e-08 * x[6] * x[13] * x[13] * max(0, 6.596919501 - x[4]),
		lambda x: -0.06406856184414911 * max(0, x[4] - 5.54311955534) * x[7],
		lambda x: 5.6357112754312766e-08 * max(0, x[3] - 0.0104852616) * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: 4.0652412413952344e-05 * max(0, 0.0104852616 - x[3]) * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: -0.0028401003286936755 * max(0, 2.06486227e-05 - x[1]) * x[13] * x[13] * max(0, x[4] - 6.596919501),
		lambda x: 4.511163760962553 * max(0, x[4] - 5.07172064536) * x[12] * x[7],
		lambda x: -98.0854078193295 * max(0, 5.07172064536 - x[4]) * x[12] * x[7],
		lambda x: -10.239635593448751 * x[7] * max(0, 5.07172064536 - x[4]) * x[12] * x[7],
		lambda x: -0.027512725803570826 * x[13] * max(0, 0.00975476653 - x[3]),
		lambda x: 0.04399475058061661 * max(0, x[4] - 7.04087907716) * x[7],
		lambda x: -0.06914419238749514 * max(0, 7.04087907716 - x[4]) * x[7],
		lambda x: -0.02529847040250088 * max(0, x[4] - 7.03600147985) * x[13] * max(0, 0.00975476653 - x[3]),
		lambda x: -0.009249469732709225 * max(0, 7.03600147985 - x[4]) * x[13] * max(0, 0.00975476653 - x[3]),
		lambda x: -0.08284620085665104 * max(0, x[2] - 4.23669766002) * max(0, x[4] - 7.03600147985) * x[13] * max(0, 0.00975476653 - x[3]),
		lambda x: -0.027507463791696257 * max(0, 4.23669766002 - x[2]) * max(0, x[4] - 7.03600147985) * x[13] * max(0, 0.00975476653 - x[3]),
		lambda x: 0.004332169638744913 * x[9] * max(0, 5.07172064536 - x[4]) * x[12] * x[7]]
    for x in example_iterator:
        yield sum(accessor(x) for accessor in accessors)
    
