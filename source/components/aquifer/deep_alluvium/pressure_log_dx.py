# file: sum.W31-0.2.P.deltabg.th.v6.merged_var_mass_cb2.log_dx.psuade.th00500.tab
# dir: /erdfilespace/userspace/mansoor1/work/co2/kimberlina/nuftresults/prod07/thresholds/pyearth
# variables: 
# x[0]   time
# x[1]   brnFlux
# x[2]   log_brnMass
# x[3]   co2Flux
# x[4]   log_co2Mass
# x[5]   logK_sand1
# x[6]   logK_sand2
# x[7]   logK_sand3
# x[8]   logK_caprock
# x[9]   corrlationLengthX
# x[10]  corrlationLengthZ
# x[11]  sandFraction
# x[12]  groundwater_gradient
# x[13]  leak_depth
# output: log_dx
# MSE: 0.0986, GCV: 0.0991, RSQ: 0.6692, GRSQ: 0.6675

def model(example_iterator):
    accessors = [lambda x: 2.6430984247618063,
		lambda x: 1.4942739112280883 * max(0, x[4] - 6.6433799374),
		lambda x: -0.49341254097586174 * max(0, 6.6433799374 - x[4]),
		lambda x: 1.2236169696393653 * max(0, x[3] - 0.0159267627),
		lambda x: -12.851540507549181 * max(0, 0.0159267627 - x[3]),
		lambda x: -0.5598276167956152 * max(0, x[6] - -10.722) * x[13],
		lambda x: 0.0011493543324125723 * max(0, -10.722 - x[6]) * x[13],
		lambda x: -0.0009087881189199178 * max(0, x[4] - 6.50067499793) * x[13],
		lambda x: 0.0008366464631740443 * max(0, 6.50067499793 - x[4]) * x[13],
		lambda x: 0.00010413018228080939 * x[5] * max(0, -10.722 - x[6]) * x[13],
		lambda x: -0.5773645968077102 * max(0, x[3] - 0.0648720563) * max(0, x[4] - 6.6433799374),
		lambda x: 13.1483946453782 * max(0, 0.0648720563 - x[3]) * max(0, x[4] - 6.6433799374),
		lambda x: -13.094939209431663 * x[11] * max(0, 0.0648720563 - x[3]) * max(0, x[4] - 6.6433799374),
		lambda x: -0.0001519390480746452 * x[5] * max(0, x[4] - 6.50067499793) * x[13],
		lambda x: 0.11723668104891592 * x[5] * max(0, x[4] - 6.6433799374),
		lambda x: 5.205947177229671e-05 * x[9] * max(0, 6.6433799374 - x[4]),
		lambda x: -1.279038850832137e-06 * x[13] * x[13],
		lambda x: 8.820828512057233e-10 * x[13] * x[13] * x[13],
		lambda x: -4.784196678819796e-07 * max(0, x[4] - 6.26124589471) * x[13] * x[13],
		lambda x: -4.247370029020203e-07 * max(0, 6.26124589471 - x[4]) * x[13] * x[13],
		lambda x: -136587.06574706204 * max(0, x[3] - 0.00768916163) * max(0, 0.0159267627 - x[3]),
		lambda x: -18559.412835802454 * max(0, 0.00768916163 - x[3]) * max(0, 0.0159267627 - x[3]),
		lambda x: -11151.493899169389 * x[5] * max(0, x[3] - 0.00768916163) * max(0, 0.0159267627 - x[3]),
		lambda x: -1600.7043629815505 * x[6] * max(0, 0.00768916163 - x[3]) * max(0, 0.0159267627 - x[3]),
		lambda x: 5574.022985252449 * max(0, x[1] - 1.01620265e-05) * max(0, 0.0159267627 - x[3]),
		lambda x: 16.2785792771076 * max(0, x[1] - 0.0010418629) * max(0, 6.6433799374 - x[4]),
		lambda x: 81.47328967593549 * max(0, 0.0010418629 - x[1]) * max(0, 6.6433799374 - x[4]),
		lambda x: -2.6318560780978513 * max(0, 4.85501295741 - x[2]) * max(0, 0.0159267627 - x[3]),
		lambda x: -116071.98932579353 * max(0, x[3] - 0.0012529783) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: -19909.036376703916 * max(0, 0.0012529783 - x[3]) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: -4854.471677563717 * max(0, x[1] - 0.00119606917) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: -58374.94493678972 * max(0, 0.00119606917 - x[1]) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: 106.66311550217566 * x[13] * max(0, 0.00119606917 - x[1]) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: -9969.68031929674 * x[6] * max(0, x[3] - 0.0012529783) * max(0, x[2] - 4.85501295741) * max(0, 0.0159267627 - x[3]),
		lambda x: -7468.018047469404 * max(0, x[1] - 1.80134324e-06) * max(0, 0.0648720563 - x[3]) * max(0, x[4] - 6.6433799374)]
    for x in example_iterator:
        yield sum(accessor(x) for accessor in accessors)
    
